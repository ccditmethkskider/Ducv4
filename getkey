local HttpService = game:GetService("HttpService")

getgenv().Config = {
     ["Select Join"] = "Pirates", -- Pirates ho·∫∑c Marines
     ["Auto Farm"] = true,
     ["White screen"] = false,
     ["RedeemCode"] = 9,
     ["Fragment"] = 25000,
     ["AutoCdk"] = true,
     ["AutoSgt"] = true,
     ["Buy Legendary Sword"] = true,
     ["Buy Haki Color"] = true,
     ["Berry Colect"] = true,
     ["Chat"] = "", -- nh·∫≠p text ho·∫∑c ko
     ["Chat Delay"] = 60, -- delay b·∫±ng gi√¢y
     ["Link Webhook"] = "",
     ["Start Webhook"] = true,
     ["Webhook Minute"] = 30, -- ph√∫t nha
     ["name player"] = true,
     ["Send Webhook"] = true 
}

-- Ki·ªÉm tra n·∫øu ch∆∞a nh·∫≠p webhook th√¨ d·ª´ng l·∫°i
if Config["Link Webhook"] == "" then
    warn("‚ùå kh√¥ng s√†i h·∫£")
    return
end

-- H√†m ch·ªçn team
local function SelectTeam()
    local team = Config["Select Join"]
    if team == "Pirates" or team == "Marines" then
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("SetTeam", team)
        print("‚úÖ ƒê√£ ch·ªçn team: " .. team)
    else
        warn("‚ùå C·∫•u h√¨nh team nh∆∞ c·ª©t")
    end
end

-- H√†m g·ª≠i Webhook
local function SendToWebhook()
    if not Config["Send Webhook"] or not Config["Start Webhook"] then return end

    local PlayerName = Config["name player"] and game.Players.LocalPlayer.Name or "·∫®n danh"

    local data = {
        ["username"] = "Kaitun Zush hub", -- T√™n bot hi·ªÉn th·ªã tr√™n Discord
        ["embeds"] = {
            {
                ["title"] = "üì¢ Notification",
                ["description"] = "Th√¥ng tin ng∆∞·ªùi ch∆°i",
                ["color"] = 16711680, -- M√†u ƒë·ªè
                ["fields"] = {
                    {
                        ["name"] = "üë§ Player Name",
                        ["value"] = PlayerName,
                        ["inline"] = true
                    },
                    {
                        ["name"] = "üè¥ Team Selected",
                        ["value"] = Config["Select Join"],
                        ["inline"] = true
                    },
                    {
                        ["name"] = "‚è≥ Time Sent",
                        ["value"] = os.date("%Y-%m-%d %H:%M:%S"),
                        ["inline"] = true
                    }
                }
            }
        }
    }

    local jsonData = HttpService:JSONEncode(data)

    -- G·ª≠i request l√™n Discord Webhook
    HttpService:PostAsync(Config["Link Webhook"], jsonData, Enum.HttpContentType.ApplicationJson)

    print("‚úÖ ƒê√£ g·ª≠i webhook th√†nh c√¥ng")
end

-- Ch·ªçn team ngay khi ch·∫°y script
SelectTeam()

-- N·∫øu Start Webhook = true th√¨ ch·∫°y auto g·ª≠i m·ªói X ph√∫t
if Config["Start Webhook"] then
    while true do
        task.wait(Config["Webhook Minute"] * 60) -- Ch·ªù X ph√∫t r·ªìi g·ª≠i
        SendToWebhook()
    end
end

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local StarterGui = game:GetService("StarterGui")
local player = Players.LocalPlayer

-- Hi·ªán nhi·ªÅu d√≤ng custom chat (ch·ªâ m√¨nh th·∫•y)
task.spawn(function()
    StarterGui:SetCore("ChatMakeSystemMessage", {
        Text = "üéâ <b><i>Ch√†o m·ª´ng ƒë·∫øn v·ªõi Zush Hub do Duck üê• s√°ng l·∫≠p</i></b>",
        Color = Color3.fromRGB(255, 128, 0),
        Font = Enum.Font.SourceSansBold,
        FontSize = Enum.FontSize.Size24
    })
    wait(1)
    StarterGui:SetCore("ChatMakeSystemMessage", {
        Text = "üíé <b>Script free - Kh√¥ng b√°n, kh√¥ng l·ª´a ƒë·∫£o</b>",
        Color = Color3.fromRGB(255, 128, 0),
        Font = Enum.Font.SourceSansBold,
        FontSize = Enum.FontSize.Size24
    })
    wait(1)
    StarterGui:SetCore("ChatMakeSystemMessage", {
        Text = "üê• <i>H·ªó tr·ª£ t·∫°i Discord: Zush Hub</i>",
        Color = Color3.fromRGB(255, 128, 0),
        Font = Enum.Font.SourceSansBold,
        FontSize = Enum.FontSize.Size24
    })
end)

local function whitescreen()
    -- ·∫®n to√†n b·ªô hi·ªáu ·ª©ng v√† √°nh s√°ng
    game:GetService("Lighting"):ClearAllChildren()
    sethiddenproperty(game.Lighting, "Technology", Enum.Technology.Compatibility)

    -- X√≥a t·∫•t c·∫£ ParticleEffects
    for _, v in pairs(game:GetDescendants()) do
        if v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Beam") or v:IsA("Smoke") or v:IsA("Fire") then
            v:Destroy()
        end
    end

    -- X√≥a m·ªçi √¢m thanh (n·∫øu mu·ªën)
    for _, v in pairs(game:GetDescendants()) do
        if v:IsA("Sound") then
            v:Destroy()
        end
    end

    -- ·∫®n c√°c Object kh√¥ng c·∫ßn thi·∫øt (C√¢y, ƒë√°, hi·ªáu ·ª©ng trang tr√≠)
    local objectsToRemove = {"Grass", "Tree", "Bush", "Flower", "Rock", "Cloud", "Effect"}
    for _, obj in ipairs(objectsToRemove) do
        for _, v in pairs(game:GetDescendants()) do
            if v:IsA("BasePart") and string.find(v.Name, obj) then
                v:Destroy()
            end
        end
    end

    -- T·∫Øt b√≥ng
    settings().Rendering.QualityLevel = Enum.QualityLevel.Level01

    -- Gi·∫£m LOD ƒë·ªÉ t·ªëi ∆∞u hi·ªÉn th·ªã
    game:GetService("RunService"):Set3dRenderingEnabled(false)

    print("üîß FPS Boost b·∫≠t üéÆ")
end

-- Ki·ªÉm tra c·∫•u h√¨nh t·ªëi ∆∞u FPS
if Config["White screen"] then
    whitescreen()
end

wait(1) 

if Config["Auto Farm"] then
    loadstring(game:HttpGet("https://raw.githubusercontent.com/nguyenduck18/script/refs/heads/main/kaitun%20royx"))()
else
    print("ch√† ƒë∆∞·ª£c ƒë·∫•y")
end

task.spawn(function()
    while true do
        if getgenv().Config["Chat"] ~= "" then
            -- G·ª≠i tin nh·∫Øn v√†o chat
            game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(
                getgenv().Config["Chat"], 
                "All"
            )
        end
        -- ƒê·ª£i theo th·ªùi gian delay ƒë√£ c·∫•u h√¨nh
        wait(getgenv().Config["Chat Delay"])
    end
end)

wait(3)

game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "Zush Hub",
    Text = "B·∫Øt ƒë·∫ßu ch·∫°y",
    Duration = 3
})
